import{g as F,h as _,r as b,i as C,a,j as i,b as o,w as u,c as k,u as c,m as J,k as p,e as l,F as v,l as I,t as g,n as U,p as K,q as Y,s as z,v as G,o as O,d as Q}from"./index.98607a94.js";import{_ as N}from"./CardBoxModal.ace20b32.js";import{_ as T,a as P}from"./BaseButtons.2b711a00.js";import{u as W}from"./transaction.d32dd6cc.js";import"./sweetalert2.all.e9d3950e.js";const X=l("p",null,[G("Lorem ipsum dolor sit amet "),l("b",null,"adipiscing elit")],-1),Z=l("p",null,"This is sample modal",-1),ee=l("p",null,"Apakah anda yakin menghapus data ini?",-1),te=l("th",null,"No",-1),ae={key:0},le=["data-label"],ne={key:0,class:"before:hidden lg:w-1 whitespace-nowrap"},se={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},oe={__name:"TableDatacust",props:{items:{type:Array,default:()=>[]},thead:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},link:{type:String,default:null},linkEdit:{type:String,default:null},linkDetail:{type:String,default:null},isEdit:{type:Boolean,default:!0},isDelete:{type:Boolean,default:!0},isDetail:{type:Boolean,default:!0},add:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},emits:["update:modelValue","cancel","confirm"],setup(n,{emit:w}){const y=n,D=F(),e=_(()=>y.items),$=b(),B=b(!1),f=b(!1),h=b(100),d=b(0),S=_(()=>e.value.slice(h.value*d.value,h.value*(d.value+1))),L=_(()=>Math.ceil(e.value.length/h.value)),x=_(()=>d.value+1),A=_(()=>{const r=[];for(let m=0;m<L.value;m++)r.push(m);return r}),E=()=>{w("confirm",$.value)},M=r=>{D.push({name:y.linkEdit,params:{id:r}})},R=r=>{D.push({name:y.linkDetail,params:{id:r}})},H=r=>{f.value=!0,$.value=r};return(r,m)=>{const j=C("RouterLink");return a(),i(v,null,[o(N,{modelValue:B.value,"onUpdate:modelValue":m[0]||(m[0]=t=>B.value=t),title:"Sample modal"},{default:u(()=>[X,Z]),_:1},8,["modelValue"]),o(N,{modelValue:f.value,"onUpdate:modelValue":m[1]||(m[1]=t=>f.value=t),title:"Konfirmasi",button:"danger","button-label":"Ya","has-cancel":"",onConfirm:E},{default:u(()=>[ee]),_:1},8,["modelValue"]),n.add?(a(),k(j,{key:0,to:{name:n.link}},{default:u(()=>[o(T,{color:"success",label:"Tambah Data",icon:c(J),class:"mb-2"},null,8,["icon"])]),_:1},8,["to"])):p("",!0),l("table",null,[l("thead",null,[l("tr",null,[te,(a(!0),i(v,null,I(n.thead,(t,V)=>(a(),i("th",{key:V},g(t),1))),128)),n.action?(a(),i("th",ae)):p("",!0)])]),l("tbody",null,[(a(!0),i(v,null,I(c(S),(t,V)=>(a(),i("tr",{key:t.id},[l("td",null,g(V+1),1),(a(!0),i(v,null,I(n.columns,(s,q)=>(a(),i("td",{key:q,"data-label":s.label},g(s.type=="relationships"?s.keyItems(s.relationships(t.relationships))?s.keyItems(s.relationships(t.relationships)):"-":s.keyItems(t.attributes)?s.keyItems(t.attributes):"-"),9,le))),128)),n.action?(a(),i("td",ne,[o(P,{type:"justify-start lg:justify-end","no-wrap":""},{default:u(()=>[n.isEdit?(a(),k(T,{key:0,color:"warning",icon:c(U),small:"",onClick:s=>M(t.id)},null,8,["icon","onClick"])):p("",!0),n.isDetail?(a(),k(T,{key:1,color:"info",icon:c(K),small:"",onClick:s=>R(t.id)},null,8,["icon","onClick"])):p("",!0),n.isDelete?(a(),k(T,{key:2,color:"danger",icon:c(Y),small:"",onClick:s=>H(t.id)},null,8,["icon","onClick"])):p("",!0)]),_:2},1024)])):p("",!0)]))),128))])]),l("div",se,[o(z,null,{default:u(()=>[o(P,null,{default:u(()=>[(a(!0),i(v,null,I(c(A),t=>(a(),k(T,{key:t,active:t===d.value,label:t+1,color:t===d.value?"lightDark":"whiteDark",small:"",onClick:V=>d.value=t},null,8,["active","label","color","onClick"]))),128))]),_:1}),l("small",null,"Page "+g(c(x))+" of "+g(c(L)),1)]),_:1})])],64)}}},ie=l("h1",{class:"text-center text-2xl mb-4"},"Riwayat Transaksi",-1),pe={__name:"CetakHistoryTransactionView",setup(n){const w=W(),y=["Tgl Transaksi","No. Transaksi","Nama","Jumlah","Harga","Total"],D=[{type:"attributes",label:"Tgl Transaksi",keyItems:e=>e.created_at},{type:"attributes",label:"No. Transaksi",keyItems:e=>e.transaction_number},{type:"relationships",label:"Nama",relationships:e=>e.product,keyItems:e=>e.attributes.name},{type:"attributes",label:"Jumlah",keyItems:e=>e.qty},{type:"relationships",label:"Harga",relationships:e=>e.product,keyItems:e=>e.attributes.price_sell},{type:"attributes",label:"Total",keyItems:e=>e.total}];return O(async()=>{await w.getTransactions(),window.print()}),(e,$)=>{const B=C("BaseButton"),f=C("RouterLink"),h=C("SectionMain"),d=C("LayoutAuthenticated");return a(),k(d,null,{default:u(()=>[o(h,null,{default:u(()=>[o(Q,null,{default:u(()=>[ie,o(f,{to:"data-riwayat-transaksi-cetak"},{default:u(()=>[o(B,{color:"success",label:"Cetak Data",icon:e.mdiPlus,class:"mb-2"},null,8,["icon"])]),_:1}),o(oe,{items:c(w).transactions,add:!1,"is-edit":!1,"is-detail":!1,"is-delete":!1,thead:y,paginate:!1,columns:D},null,8,["items"])]),_:1})]),_:1})]),_:1})}}};export{pe as default};
